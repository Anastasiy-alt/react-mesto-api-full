{"version":3,"sources":["context/CurrentUserContext.js","images/Vector-2.svg","components/Header.js","components/Footer.js","components/Card.js","components/Main.js","utils/Api.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/DeleteCardPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/AuthForm.js","components/Register.js","components/Login.js","images/yes.svg","images/no.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","userEmail","onSignOut","loggedIn","className","src","logo","alt","onClick","to","exact","path","Footer","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","onDeleteClick","cards","console","dir","avatar","about","map","reverse","api","option","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","then","err","statusCode","status","Promise","reject","fetch","credentials","method","_check","cardData","body","JSON","stringify","userData","cardId","ImagePopup","onClose","PopupWithForm","title","button","isOpen","popupDelete","popupAvatar","children","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","event","preventDefault","maxLength","minLength","required","id","placeholder","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","e","ref","DeleteCardPopup","buttonText","AddPlacePopup","onAddCard","setTitle","setLink","ProtectedRoute","Component","component","props","AuthForm","buttonName","register","handleSubmit","handleChange","email","password","Register","onRegister","setUserData","evt","Login","onLogin","InfoTooltip","yes","no","BASE_URL","App","history","useHistory","setLoggedIn","setUserEmail","isSuccess","setIsSuccess","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","selectDelete","setSelectDelete","deleteCard","setDeleteCard","tokenCheck","jwt","localStorage","getItem","Api","data","push","catch","log","getInitialCards","initialCards","all","getUserInfo","closeAllPopups","Provider","removeItem","onUserInfo","userInfo","changeLikeCardStatus","newCard","state","c","auth","setItem","token","setUserInfo","error","addCard","filter","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.23c854a6.chunk.js","sourcesContent":["import React from 'react';\nexport const CurrentUserContext  = React.createContext();","export default __webpack_public_path__ + \"static/media/Vector-2.a307e1c4.svg\";","import logo from '../images/Vector-2.svg';\nimport { Link, Switch, Route } from 'react-router-dom';\n\nfunction Header({ userEmail, onSignOut, loggedIn }) {\n    return (\n        <header className=\"header\">\n            <img src={logo} alt=\"Место.\" className=\"header__logo\" />\n            {loggedIn ? (\n                <div className=\"header__auth\">\n                    <p className=\"header__email\">{userEmail}</p>\n                    <Link className=\"header__link button header__link_exit\" onClick={onSignOut} to=\"/sign-up\">Выйти</Link>\n                </div>\n            ) : (\n                <Switch>\n                    <Route exact path=\"/sign-in\">\n                        <Link to=\"/sign-up\" className=\"header__link button\">Регистрация</Link>\n                    </Route>\n                    <Route exact path=\"/sign-up\">\n                        <Link to=\"/sign-in\" className=\"header__link button\">Войти</Link>\n                    </Route>\n                </Switch>\n            )}\n\n        </header>\n    )\n};\n\nexport default Header;","function Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__text\">&copy; 2022 Mesto Russia</p>\n        </footer>\n    )\n};\n\nexport default Footer;","import { CurrentUserContext } from '../context/CurrentUserContext';\nimport { useContext } from 'react';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n    const currentUser = useContext(CurrentUserContext);\n    const isOwn = card.owner === currentUser._id;\n    const isLiked = card.likes.some((i) => i === currentUser._id);\n\n    const cardDeleteButtonClassName = (\n        `${isOwn ? 'element__delete button' : 'element__delete_hidden'}`\n    );\n    const cardLikeButtonClassName = `button element__like ${isLiked && 'element__like_click'}`;\n    const handleLikeClick = () => {\n        onCardLike(card);\n    };\n    const handleDeleteClick = () => {\n        onCardDelete(card._id);\n    };\n\n    const handleClick = () => {\n        onCardClick(card);\n    };\n\n    return (\n        <article className=\"element\">\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\n            <img className=\"element__img\" src={card.link} alt={card.name} onClick={handleClick} />\n            <div className=\"element__title\">\n                <h2 className=\"element__name\">{card.name}</h2>\n                <div className=\"element__like-container\">\n                    <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n                    <p className=\"element__like-counter\">{card.likes.length}</p>\n                </div>\n            </div>\n        </article>\n    )\n}\n\nexport default Card;","import { Fragment, useContext } from 'react';\nimport Card from \"./Card\";\nimport { CurrentUserContext } from '../context/CurrentUserContext';\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, onDeleteClick, cards, onCardLike }) {\n\n    const currentUser = useContext(CurrentUserContext);\n    console.dir(currentUser);\n    return (\n        <Fragment>\n            <section className=\"profile\">\n                <div className=\"profile__avatar-cover\">\n                    <button className=\"profile__cover-hover\" type=\"button\" onClick={onEditAvatar}></button>\n                    <img alt=\"Фото профиля.\" src={currentUser.avatar} className=\"profile__avatar\" />\n                </div>\n                <div className=\"profile__info-block\">\n                    <div className=\"profile__title\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button className=\"profile__edit-button button\" type=\"button\" onClick={onEditProfile}></button>\n                    </div>\n                    <p className=\"profile__info\">{currentUser.about}</p>\n                </div>\n                <button className=\"profile__add-button button\" type=\"button\" onClick={onAddPlace}></button>\n            </section>\n            <section className=\"elements\">\n                {cards.map((card) => (\n                    <Card card={card}\n                        key={card._id}\n                        onCardClick={onCardClick}\n                        onCardLike={onCardLike}\n                        onCardDelete={onDeleteClick} />\n                )).reverse()}\n            </section>\n        </Fragment>\n    )\n};\n\nexport default Main;","class Api {\n    constructor(option) {\n        this._baseUrl = option.baseUrl;\n        this._headers = option.headers;\n    }\n\n    _check(res) {\n        if (res.ok) {\n            return res.json();\n          }\n          return res.json()\n            .then((err) => {\n            err.statusCode = res.status; \n            return Promise.reject(err);\n           })\n        // if (res.ok) {\n        //     return res.json();\n        // }\n        // return Promise.reject(`Ошибка: ${res.status} ${this._baseUrl}`);\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            credentials: 'include',\n            headers: this._headers,\n\n            method: 'GET'\n        })\n            .then(res => this._check(res))\n    }\n\n    addInitialCards(cardData) {\n        return fetch(`${this._baseUrl}/cards`, {\n            credentials: 'include',\n            headers: this._headers,\n            method: 'POST',\n            body: JSON.stringify({\n                name: cardData.name,\n                link: cardData.link\n            })\n        })\n            .then(res => this._check(res))\n\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            credentials: 'include',\n            headers: this._headers,\n            method: 'GET'\n        })\n            .then(res => this._check(res))\n    }\n\n    setUserInfo(userData) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            credentials: 'include',\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify({\n                name: userData.name,\n                about: userData.about\n            })\n        })\n            .then(res => this._check(res))\n    }\n\n    addCard(cardData) {\n        return fetch(`${this._baseUrl}/cards`, {\n            credentials: 'include',\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: cardData.name,\n                link: cardData.link\n            })\n        })\n            .then(res => this._check(res));\n    }\n\n    setUserAvatar(userData) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            credentials: 'include',\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify({\n                avatar: userData.avatar\n            })\n        })\n            .then(res => this._check(res))\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\n            credentials: 'include',\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(res => this._check(res))\n    }\n\n    putLike(cardId) {\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n            credentials: 'include',\n            method: 'PUT',\n            headers: this._headers,\n        })\n            .then(res => this._check(res))\n    }\n\n    deleteLike(cardId) {\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n            credentials: 'include',\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(res => this._check(res))\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n            credentials: 'include',\n            method: `${!isLiked ? 'DELETE' : 'PUT'}`,\n            headers: this._headers\n        })\n            .then(res => this._check(res));\n    }\n\n}\n\nconst api = new Api({\n    baseUrl: 'https://api.mesto.pilot.nomoredomains.icu',\n    headers: {\n        'Content-Type': 'application/json',\n        // 'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n    }\n});\n\nexport default api;","function ImagePopup({ onClose, card }) {\n    return (\n        <div className={`popup popup_for_img  ${card._id && \"popup_opened\"}`}>\n            <div className=\"popup__container popup__container_for_img\">\n                <button className=\"button popup__close popup__close_for_img\" type=\"button\" onClick={onClose}></button>\n                <img className=\"popup__img\" src={card.link} alt={card.name} />\n                <p className=\"popup__info-img\">{card.name}</p>\n            </div>\n        </div>)\n}\n\nexport default ImagePopup;","function PopupWithForm({ name, title, button, isOpen, onClose, popupDelete, popupAvatar, children, onSubmit }) {\n\n    return (\n        <div className={`popup popup_for_${name} ${isOpen && \"popup_opened\"}`}>\n            <div className={`popup__container ${popupDelete && \"popup__container_for_delete\"} ${popupAvatar && \"popup__container_for_avatar\"}`}>\n                <button className={`button popup__close popup__close_for_${name}`} type=\"button\" onClick={onClose}></button>\n                <h3 className={`popup__heading ${popupDelete && \"popup__heading_for_delete\"} ${popupAvatar && \"popup__heading_for_avatar\"}`}>{title}</h3>\n                <form className=\"popup__form\" name={`form-${name}`} noValidate onSubmit={onSubmit} button={button}>\n                    {children}\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default PopupWithForm;","import { useState, useEffect, useContext } from 'react';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, button }) {\n    const currentUser = useContext(CurrentUserContext);\n    const [name, setName] = useState(currentUser.name);\n    const [description, setDescription] = useState(currentUser.description);\n    console.dir(currentUser);\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onUpdateUser({\n            name: name,\n            about: description,\n        });\n    }\n\n    function handleNameChange(name) {\n        setName(name.target.value);\n    }\n    function handleDescriptionChange(description) {\n        setDescription(description.target.value);\n    }\n\n    useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n    return (\n        <PopupWithForm isOpen={isOpen} onClose={onClose} name=\"edit\" title=\"Редактировать профиль\" onSubmit={handleSubmit}>\n            <fieldset className=\"popup__input\" >\n                <label className=\"popup__label\">\n                    <input type=\"text\"\n                        className=\"popup__item popup__item_input_name\"\n                        name=\"name\" maxLength=\"40\"\n                        minLength=\"2\"\n                        required\n                        id=\"name\"\n                        placeholder=\"Имя\"\n                        value={name || ''}\n                        onChange={handleNameChange} />\n                    <span className=\"popup__input-error name-error\"></span>\n                </label>\n                <label className=\"popup__label\">\n                    <input type=\"text\"\n                        className=\"popup__item popup__item_input_info\"\n                        name=\"info\"\n                        maxLength=\"200\"\n                        minLength=\"2\"\n                        required\n                        id=\"info\"\n                        placeholder=\"Информация\"\n                        value={description || ''}\n                        onChange={handleDescriptionChange} />\n                    <span className=\"popup__input-error info-error\"></span>\n                </label>\n                <button className={`button popup__button popup__button_for_edit`} type=\"submit\">{button || 'Сохранить'}</button>\n\n            </fieldset>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import { useEffect, useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, button }) {\n\n    const avatarRef = useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateAvatar({\n            avatar: avatarRef.current.value,\n        });\n    }\n\n    useEffect(() => {\n        avatarRef.current.value = '';\n    }, [isOpen]);\n\n    return (\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={isOpen} onClose={onClose} popupAvatar={true} onSubmit={handleSubmit}>\n            <fieldset className=\"popup__input\" >\n                <label className=\"popup__label\">\n                    <input ref={avatarRef} type=\"url\" className=\"popup__item popup__item_input_link-avatar\" name=\"avatar\"\n                        placeholder=\"Ссылка на аватар\" required id=\"avatar\" />\n                    <span className=\"popup__input-error avatar-error\"></span>\n                </label>\n                <button className={`button popup__button popup__button_for_avatar`} type=\"submit\">{button || 'Сохранить'}</button>\n            </fieldset>\n        </PopupWithForm>\n    )\n};\n\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nfunction DeleteCardPopup({ onClose, isOpen, popupDelete, name, title, button, cardId, onCardDelete }) {\n\n    const handleDeleteClick = () => {\n        onCardDelete(cardId);\n    };\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        handleDeleteClick();\n        onClose();\n    }\n\n    return (<PopupWithForm\n        name={name}\n        onClose={onClose}\n        title={title}\n        buttonText={button}\n        onSubmit={handleSubmit}\n        isOpen={isOpen}\n        popupDelete={popupDelete}\n    >\n        <fieldset className=\"popup__input\">\n            <button className={`button popup__button popup__button_for_${name}`} type=\"submit\">{button || 'Сохранить'}</button>\n\n        </fieldset>\n    </PopupWithForm>)\n}\n\nexport default DeleteCardPopup;","import { useEffect, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, button, onAddCard }) {\n\n    const [title, setTitle] = useState([]);\n    const [link, setLink] = useState([]);\n\n    function handleTitleChange(title) {\n        setTitle(title.target.value);\n    }\n\n    function handleLinkChange(link) {\n        setLink(link.target.value);\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onAddCard({\n            name: title,\n            link: link,\n        });\n    }\n\n    useEffect(() => {\n        setTitle(\"\");\n        setLink(\"\");\n    }, [isOpen]);\n\n    return (\n        <PopupWithForm name=\"add\" title=\"Новое место\" button=\"Создать\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n            <fieldset className=\"popup__input\">\n                <label className=\"popup__label\">\n                    <input\n                        onChange={handleTitleChange}\n                        value={title || ''}\n                        type=\"text\"\n                        className=\"popup__item popup__item_input_name\"\n                        name=\"name\"\n                        placeholder=\"Название\"\n                        maxLength=\"30\"\n                        minLength=\"2\"\n                        required\n                        id=\"title\" />\n                    <span className=\"popup__input-error title-error\"></span>\n                </label>\n                <label className=\"popup__label\">\n                    <input\n                        onChange={handleLinkChange}\n                        value={link || ''}\n                        type=\"url\"\n                        className=\"popup__item popup__item_input_info\"\n                        name=\"link\"\n                        placeholder=\"Ссылка на картинку\"\n                        required\n                        id=\"link\" />\n                    <span className=\"popup__input-error link-error\"></span>\n                </label>\n                <button className={`button popup__button popup__button_for_add`} type=\"submit\">{button || 'Сохранить'}</button>\n            </fieldset>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","import { Link } from 'react-router-dom';\n\nfunction AuthForm({name, className, buttonName, register, userData, handleSubmit, handleChange }) {\n    return (\n        <div className={`sign ${className}`}>\n            <p className=\"sign__welcome\">\n                {name}\n            </p>\n            <form className=\"sign__form\" onSubmit={handleSubmit}>\n                <input className=\"sign__input popup__item\" id=\"email\" name=\"email\" type=\"email\" placeholder=\"Email\" value={userData.email || ''} onChange={handleChange} required />\n                <input className=\"sign__input popup__item\" id=\"password\" name=\"password\" type=\"password\" placeholder=\"Пароль\" value={userData.password || ''} onChange={handleChange} required />\n                <div className=\"sign__button-container\">\n                    <button type=\"submit\" className=\"button popup__button sign__link\" onSubmit={register && handleSubmit}>{buttonName}</button>\n                </div>\n            </form>\n            {register && (<div className=\"sign__signin\">\n                <p className=\"sign__signin-text\">Уже зарегистрированы?</p>&nbsp;\n                <Link to=\"/sign-in\" className=\"sign__login-link\">Войти</Link>\n            </div>)}\n            \n        </div>\n    )\n};\n\nexport default AuthForm;","import React from 'react';\nimport AuthForm from './AuthForm';\nimport '../index.css';\n\nfunction Register({ onRegister }) {\n  const [userData, setUserData] = React.useState({ email: '', password: '' });\n\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setUserData((evt) => ({\n      ...evt,\n      [name]: value,\n    }));\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { email, password } = userData;\n    onRegister(email, password)\n  }\n\n  return (\n<AuthForm\n      handleSubmit={handleSubmit}\n      userData={userData}\n      handleChange={handleChange}\n      register={true}\n      className=\"register\"\n      name=\"Регистрация\"\n      buttonName=\"Зарегистрироваться\" />\n  );\n}\n\nexport default Register;","import React from 'react';\nimport AuthForm from './AuthForm';\nimport '../index.css';\n\nfunction Login({ onLogin }) {\n\n  const [userData, setUserData] = React.useState({ email: '', password: '' });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setUserData((evt) => ({\n      ...evt,\n      [name]: value,\n    }));\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { email, password } = userData\n    onLogin(email, password)\n\n  }\n\n  return (\n<AuthForm\n      handleSubmit={handleSubmit}\n      userData={userData}\n      handleChange={handleChange}\n      className=\"login\"\n      name=\"Вход\"\n      buttonName=\"Войти\" />\n  );\n}\n\nexport default Login;","export default __webpack_public_path__ + \"static/media/yes.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/no.df8eddf6.svg\";","import yes from '../images/yes.svg';\nimport no from '../images/no.svg';\n\nfunction InfoTooltip({ isOpen, onClose, loggedIn }) {\n\n    return (\n        <div className={`popup popup_for_tooltip ${isOpen && \"popup_opened\"}`}>\n            <div className=\"popup__container popup__container_for_tooltip\">\n                <button className=\"button popup__close popup__close_for_tooltip\" type=\"button\" onClick={onClose}></button>\n                <img src={loggedIn ? yes : no} alt={loggedIn ? \"Галочка.\" : \"Крестик.\"} className=\"popup__icon\" />\n                <h3 className=\"popup__heading popup__heading_for_tooltip\">{loggedIn ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз\"}</h3>\n            </div>\n        </div>\n    )\n}\n\nexport default InfoTooltip;","import Api from './Api';\nexport const BASE_URL = 'https://api.mesto.pilot.nomoredomains.icu';\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password })\n    })\n        .then(Api._check)\n};\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password }),\n        credentials: 'include'\n    })\n        .then(Api._check)\n};\n\nexport const checkToken = () => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Content-Type': \"application/json\",\n        },\n        credentials: 'include'\n    })\n        .then(Api._check)\n        // .then(res => res.json())\n        // .then(data => data)\n}\n","import { useState, useEffect } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport api from '../utils/Api';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport DeleteCardPopup from './DeleteCardPopup';\nimport AddPlacePopup from './AddPlacePopup'\nimport ProtectedRoute from './ProtectedRoute';\nimport Register from './Register';\nimport Login from './Login';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from '../utils/auth';\nimport '../index.css';\n\nfunction App() {\n    const history = useHistory();\n\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [userEmail, setUserEmail] = useState(\"\");\n    const [isSuccess, setIsSuccess] = useState(false);\n    const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\n    const [cards, setCards] = useState([]);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState({});\n    const [currentUser, setCurrentUser] = useState({});\n    const [selectDelete, setSelectDelete] = useState(false);\n    const [deleteCard, setDeleteCard] = useState('');\n\n    const tokenCheck = () => {\n        const jwt = localStorage.getItem('jwt');\n        if (jwt) {\n            return;\n        }\n        auth\n            .checkToken(jwt)\n            .then((data) => {\n                setUserEmail(data.email);\n                setCurrentUser(data);\n                setLoggedIn(true);\n                history.push(\"/\")\n            })\n            .catch((err) => console.log(err));\n        api\n            .getInitialCards(jwt)\n            .then((initialCards) => {\n                setCards(initialCards)\n            })\n            .catch((err) => console.log(err));\n    }\n\n    useEffect(() => {\n        tokenCheck()\n    }, []);\n\n    useEffect(() => {\n        if (loggedIn) {\n            Promise.all([api.getInitialCards(), api.getUserInfo()])\n                .then(([cardData, userData]) => {\n                    setCards(cardData);\n                    setCurrentUser(userData);\n                })\n                .catch((err) => {\n                    console.log(`Ошибка: ${err}`);\n                })\n        }\n    }, [loggedIn])\n\n    const handleSignOut = () => {\n        setLoggedIn(false);\n        localStorage.removeItem('jwt');\n        history.push(\"/sign-in\");\n    }\n\n    const handleUpdateUser = (userInfo) => {\n        api.setUserInfo(userInfo)\n            .then(({ data }) => {\n                setCurrentUser(data);\n                closeAllPopups();\n            })\n            .catch((error) => {\n                console.log(`Ошибка: ${error}`);\n            })\n    };\n    const handleAddCard = (card) => {\n        api.addCard(card)\n            .then(({ data }) => {\n                setCards([data, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(`Ошибка: ${err}`);\n            })\n    };\n    const handleUpdateAvatar = (avatar) => {\n        api.setUserAvatar(avatar)\n            .then(({ data }) => {\n                setCurrentUser([data.avatar, ...data]);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(`Ошибка: ${err}`);\n            })\n    };\n\n    function handleLogin(email, password) {\n        return auth\n            .authorize(email, password)\n            .then((data) => {\n                if (data) {\n                    setLoggedIn(true)\n                    localStorage.setItem('jwt', data.token);\n                    setUserEmail(email);\n                    history.push(\"/\");\n                    tokenCheck();\n                }\n            })\n            .catch((err) => {\n                setIsSuccess(false);\n                setIsInfoTooltipPopupOpen(true);\n                console.log(`Ошибка: ${err}`);\n            })\n    }\n    function handleRegister(email, password) {\n        return auth\n            .register(email, password)\n            .then(() => {\n                setIsSuccess(true);\n                setIsInfoTooltipPopupOpen(true);\n                history.push(\"/sign-in\");\n            })\n            .catch((err) => {\n                setIsSuccess(false);\n                setIsInfoTooltipPopupOpen(true);\n                console.log(`Ошибка: ${err}`);\n            })\n    }\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i === currentUser._id);\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            })\n            .catch((err) => {\n                console.log(`Ошибка: ${err}`);\n            });\n    }\n    function handleCardDelete(cardId) {\n        api.deleteCard(cardId)\n            .then(() => {\n                setCards((state) => state.filter((c) => c._id !== cardId));\n            })\n            .catch((err) => {\n                console.log(`Ошибка: ${err}`);\n            });\n    }\n\n    const handleRemoveClick = (cardId) => {\n        setSelectDelete(!selectDelete);\n        setDeleteCard(cardId);\n    };\n    const handleUserInfo = (userInfo) => {\n        setCurrentUser(userInfo);\n    }\n    const handleEditProfileClick = () => {\n        setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n    }\n    const handleAddPlaceClick = () => {\n        setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n    }\n    const handleEditAvatarClick = () => {\n        setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n    }\n    const handleCardClick = (card) => {\n        setSelectedCard(card);\n    }\n    const closeAllPopups = () => {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setSelectDelete(false);\n        setSelectedCard({});\n        setIsInfoTooltipPopupOpen(false);\n    }\n\n    return (\n\n        <CurrentUserContext.Provider value={currentUser}>\n\n            <div className=\"page\">\n\n                <Header\n                    loggedIn={loggedIn}\n                    userEmail={userEmail}\n                    onSignOut={handleSignOut} />\n                <Switch>\n                    <ProtectedRoute exact path=\"/\"\n                        loggedIn={loggedIn}\n                        component={Main}\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        onEditAvatar={handleEditAvatarClick}\n                        onCardClick={handleCardClick}\n                        onDeleteClick={handleRemoveClick}\n                        onUserInfo={handleUserInfo}\n                        cards={cards}\n                        onCardLike={handleCardLike}\n                        cardId={deleteCard} />\n\n                    <Route path=\"/sign-in\">\n                        <Login onLogin={handleLogin} />\n                    </Route>\n                    <Route path=\"/sign-up\">\n                        <Register onRegister={handleRegister} />\n                    </Route>\n                    <Route>\n                        {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n                    </Route>\n                </Switch>\n\n                <Footer />\n\n                <InfoTooltip\n                    loggedIn={isSuccess}\n                    isOpen={isInfoTooltipPopupOpen}\n                    onClose={closeAllPopups} />\n\n                <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateUser={handleUpdateUser} />\n\n                <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n                    onAddCard={handleAddCard} />\n\n                <DeleteCardPopup\n                    name=\"delete\"\n                    title=\"Вы уверены?\"\n                    button=\"Да\"\n                    onClose={closeAllPopups}\n                    isOpen={selectDelete}\n                    cardId={deleteCard}\n                    onCardDelete={handleCardDelete}\n                    popupDelete={true} />\n\n                <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAvatar} />\n\n                <ImagePopup\n                    onClose={closeAllPopups}\n                    card={selectedCard} />\n\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}