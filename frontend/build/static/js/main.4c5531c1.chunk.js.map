{"version":3,"sources":["context/CurrentUserContext.js","images/Vector-2.svg","components/Header.js","components/Footer.js","components/Card.js","components/Main.js","utils/Api.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/DeleteCardPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/AuthForm.js","components/Register.js","components/Login.js","images/yes.svg","images/no.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","userEmail","onSignOut","loggedIn","className","src","logo","alt","onClick","to","exact","path","Footer","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","onDeleteClick","cards","avatar","about","map","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","credentials","method","then","_check","cardData","body","JSON","stringify","userData","cardId","ImagePopup","onClose","PopupWithForm","title","button","isOpen","popupDelete","popupAvatar","children","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","event","preventDefault","maxLength","minLength","required","id","placeholder","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","e","ref","DeleteCardPopup","buttonText","AddPlacePopup","onAddCard","setTitle","setLink","ProtectedRoute","Component","component","props","AuthForm","buttonName","register","handleSubmit","handleChange","email","password","Register","onRegister","setUserData","evt","Login","onLogin","InfoTooltip","yes","no","BASE_URL","require","config","App","history","useHistory","setLoggedIn","setUserEmail","isSuccess","setIsSuccess","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","selectDelete","setSelectDelete","deleteCard","setDeleteCard","tokenCheck","token","jwt","localStorage","getItem","Api","data","push","catch","err","console","log","all","getInitialCards","getUserInfo","closeAllPopups","Provider","removeItem","onUserInfo","userInfo","changeLikeCardStatus","newCard","state","c","auth","setItem","setUserInfo","error","addCard","filter","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.4c5531c1.chunk.js","sourcesContent":["import React from 'react';\nexport const CurrentUserContext  = React.createContext();","export default __webpack_public_path__ + \"static/media/Vector-2.3d8293a2.svg\";","import logo from '../images/Vector-2.svg';\nimport { Link, Switch, Route } from 'react-router-dom';\n\nfunction Header({ userEmail, onSignOut, loggedIn }) {\n    return (\n        <header className=\"header\">\n            <img src={logo} alt=\"Место.\" className=\"header__logo\" />\n            {loggedIn ? (\n                <div className=\"header__auth\">\n                    <p className=\"header__email\">{userEmail}</p>\n                    <Link className=\"header__link button header__link_exit\" onClick={onSignOut} to=\"/sign-up\">Выйти</Link>\n                </div>\n            ) : (\n                <Switch>\n                    <Route exact path=\"/sign-in\">\n                        <Link to=\"/sign-up\" className=\"header__link button\">Регистрация</Link>\n                    </Route>\n                    <Route exact path=\"/sign-up\">\n                        <Link to=\"/sign-in\" className=\"header__link button\">Войти</Link>\n                    </Route>\n                </Switch>\n            )}\n\n        </header>\n    )\n};\n\nexport default Header;","function Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__text\">&copy; 2022 Mesto Russia</p>\n        </footer>\n    )\n};\n\nexport default Footer;","import { CurrentUserContext } from '../context/CurrentUserContext';\nimport { useContext } from 'react';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n\n    const currentUser = useContext(CurrentUserContext);\n    const isOwn = card.owner._id === currentUser._id;\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    const cardDeleteButtonClassName = (\n        `${isOwn ? 'element__delete button' : 'element__delete_hidden'}`\n    );\n    const cardLikeButtonClassName = `button element__like ${isLiked && 'element__like_click'}`;\n    const handleLikeClick = () => {\n        onCardLike(card);\n    };\n    const handleDeleteClick = () => {\n        onCardDelete(card._id);\n    };\n\n    const handleClick = () => {\n        onCardClick(card);\n      };\n\n    return (\n        <article className=\"element\">\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\n            <img className=\"element__img\" src={card.link} alt={card.name} onClick={handleClick} />\n            <div className=\"element__title\">\n                <h2 className=\"element__name\">{card.name}</h2>\n                <div className=\"element__like-container\">\n                    <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n                    <p className=\"element__like-counter\">{card.likes.length}</p>\n                </div>\n            </div>\n        </article>\n    )\n}\n\nexport default Card;","import { Fragment, useContext } from 'react';\nimport Card from \"./Card\";\nimport { CurrentUserContext } from '../context/CurrentUserContext';\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, onDeleteClick, cards, onCardLike }) {\n\n    const currentUser = useContext(CurrentUserContext);\n\n    return (\n        <Fragment>\n            <section className=\"profile\">\n                <div className=\"profile__avatar-cover\">\n                    <button className=\"profile__cover-hover\" type=\"button\" onClick={onEditAvatar}></button>\n                    <img alt=\"Фото профиля.\" src={currentUser.avatar} className=\"profile__avatar\" />\n                </div>\n                <div className=\"profile__info-block\">\n                    <div className=\"profile__title\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button className=\"profile__edit-button button\" type=\"button\" onClick={onEditProfile}></button>\n                    </div>\n                    <p className=\"profile__info\">{currentUser.about}</p>\n                </div>\n                <button className=\"profile__add-button button\" type=\"button\" onClick={onAddPlace}></button>\n            </section>\n            <section className=\"elements\">\n                {cards.map((card) => (\n                    <Card card={card}\n                        key={card._id}\n                        onCardClick={onCardClick}\n                        onCardLike={onCardLike}\n                        onCardDelete={onDeleteClick} />\n                ))}\n            </section>\n        </Fragment>\n    )\n};\n\nexport default Main;","class Api {\n    constructor(options) {\n        this._baseUrl = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    _check(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            credentials: 'include',\n            headers: this._headers,\n            method: 'GET'\n        })\n            .then(res => this._check(res))\n    }\n\n    addInitialCards(cardData) {\n        return fetch(`${this._baseUrl}/cards`, {\n            credentials: 'include',\n            headers: this._headers,\n            method: 'POST',\n            body: JSON.stringify({\n                name: cardData.name,\n                link: cardData.link\n            })\n        })\n            .then(res => this._check(res))\n\n    }\n    getUserInfo() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            credentials: 'include',\n            headers: this._headers,\n            method: 'GET'\n        })\n            .then(res => this._check(res))\n    }\n\n    setUserInfo(userData) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            credentials: 'include',\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify({\n                name: userData.name,\n                about: userData.about\n            })\n        })\n            .then(res => this._check(res))\n    }\n\n    addCard(cardData) {\n        return fetch(`${this._baseUrl}/cards`, {\n            credentials: 'include',\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: cardData.name,\n                link: cardData.link\n            })\n        })\n            .then(res => this._check(res));\n    }\n\n    setUserAvatar(userData) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            credentials: 'include',\n            headers: this._headers,\n            method: 'PATCH',\n            body: JSON.stringify({\n                avatar: userData.avatar\n            })\n        })\n            .then(res => this._check(res))\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\n            credentials: 'include',\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(res => this._check(res))\n    }\n\n    putLike(cardId) {\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n            credentials: 'include',\n            method: 'PUT',\n            headers: this._headers,\n        })\n            .then(res => this._check(res))\n    }\n\n    deleteLike(cardId) {\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n            credentials: 'include',\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(res => this._check(res))\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n          method: `${!isLiked ? 'DELETE' : 'PUT'}`,\n          headers: this._headers\n        })\n          .then(res => this._check(res));\n      }\n\n}\n\nconst api = new Api({\n    baseUrl: 'https://api.mesto.pilot.nomoredomains.icu',\n    headers: {\n        // authorization: '4ab555e1-39a0-48e6-8593-6e8a4a84e28f',\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api;","function ImagePopup({ onClose, card }) {\n    return (\n        <div className={`popup popup_for_img  ${card._id && \"popup_opened\"}`}>\n            <div className=\"popup__container popup__container_for_img\">\n                <button className=\"button popup__close popup__close_for_img\" type=\"button\" onClick={onClose}></button>\n                <img className=\"popup__img\" src={card.link} alt={card.name} />\n                <p className=\"popup__info-img\">{card.name}</p>\n            </div>\n        </div>)\n}\n\nexport default ImagePopup;","function PopupWithForm({ name, title, button, isOpen, onClose, popupDelete, popupAvatar, children, onSubmit }) {\n\n    return (\n        <div className={`popup popup_for_${name} ${isOpen && \"popup_opened\"}`}>\n            <div className={`popup__container ${popupDelete && \"popup__container_for_delete\"} ${popupAvatar && \"popup__container_for_avatar\"}`}>\n                <button className={`button popup__close popup__close_for_${name}`} type=\"button\" onClick={onClose}></button>\n                <h3 className={`popup__heading ${popupDelete && \"popup__heading_for_delete\"} ${popupAvatar && \"popup__heading_for_avatar\"}`}>{title}</h3>\n                <form className=\"popup__form\" name={`form-${name}`} noValidate onSubmit={onSubmit} button={button}>\n                    {children}\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default PopupWithForm;","import { useState, useEffect, useContext } from 'react';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, button }) {\n    const currentUser = useContext(CurrentUserContext);\n    const [name, setName] = useState(currentUser.name);\n    const [description, setDescription] = useState(currentUser.description);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onUpdateUser({\n            name: name,\n            about: description,\n        });\n    }\n\n    function handleNameChange(name) {\n        setName(name.target.value);\n    }\n    function handleDescriptionChange(description) {\n        setDescription(description.target.value);\n    }\n\n    useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n    return (\n        <PopupWithForm isOpen={isOpen} onClose={onClose} name=\"edit\" title=\"Редактировать профиль\" onSubmit={handleSubmit}>\n            <fieldset className=\"popup__input\" >\n                <label className=\"popup__label\">\n                    <input type=\"text\"\n                        className=\"popup__item popup__item_input_name\"\n                        name=\"name\" maxLength=\"40\"\n                        minLength=\"2\"\n                        required\n                        id=\"name\"\n                        placeholder=\"Имя\"\n                        value={name || ''}\n                        onChange={handleNameChange} />\n                    <span className=\"popup__input-error name-error\"></span>\n                </label>\n                <label className=\"popup__label\">\n                    <input type=\"text\"\n                        className=\"popup__item popup__item_input_info\"\n                        name=\"info\"\n                        maxLength=\"200\"\n                        minLength=\"2\"\n                        required\n                        id=\"info\"\n                        placeholder=\"Информация\"\n                        value={description || ''}\n                        onChange={handleDescriptionChange} />\n                    <span className=\"popup__input-error info-error\"></span>\n                </label>\n                <button className={`button popup__button popup__button_for_edit`} type=\"submit\">{button || 'Сохранить'}</button>\n\n            </fieldset>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import { useEffect, useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, button }) {\n\n    const avatarRef = useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateAvatar({\n            avatar: avatarRef.current.value,\n        });\n    }\n\n    useEffect(() => {\n        avatarRef.current.value = '';\n    }, [isOpen]);\n\n    return (\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={isOpen} onClose={onClose} popupAvatar={true} onSubmit={handleSubmit}>\n            <fieldset className=\"popup__input\" >\n                <label className=\"popup__label\">\n                    <input ref={avatarRef} type=\"url\" className=\"popup__item popup__item_input_link-avatar\" name=\"avatar\"\n                        placeholder=\"Ссылка на аватар\" required id=\"avatar\" />\n                    <span className=\"popup__input-error avatar-error\"></span>\n                </label>\n                <button className={`button popup__button popup__button_for_avatar`} type=\"submit\">{button || 'Сохранить'}</button>\n            </fieldset>\n        </PopupWithForm>\n    )\n};\n\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nfunction DeleteCardPopup({ onClose, isOpen, popupDelete, name, title, button, cardId, onCardDelete }) {\n\n    const handleDeleteClick = () => {\n        onCardDelete(cardId);\n    };\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        handleDeleteClick();\n        onClose();\n    }\n\n    return (<PopupWithForm\n        name={name}\n        onClose={onClose}\n        title={title}\n        buttonText={button}\n        onSubmit={handleSubmit}\n        isOpen={isOpen}\n        popupDelete={popupDelete}\n    >\n        <fieldset className=\"popup__input\">\n            <button className={`button popup__button popup__button_for_${name}`} type=\"submit\">{button || 'Сохранить'}</button>\n\n        </fieldset>\n    </PopupWithForm>)\n}\n\nexport default DeleteCardPopup;","import { useEffect, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, button, onAddCard }) {\n\n\n    const [title, setTitle] = useState([]);\n    const [link, setLink] = useState([]);\n\n    function handleTitleChange(title) {\n        setTitle(title.target.value);\n    }\n\n    function handleLinkChange(link) {\n        setLink(link.target.value);\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onAddCard({\n            name: title,\n            link: link,\n        });\n    }\n\n    useEffect(() => {\n        setTitle(\"\");\n        setLink(\"\");\n    }, [isOpen]);\n\n    return (\n        <PopupWithForm name=\"add\" title=\"Новое место\" button=\"Создать\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n            <fieldset className=\"popup__input\">\n                <label className=\"popup__label\">\n                    <input\n                        onChange={handleTitleChange}\n                        value={title || ''}\n                        type=\"text\"\n                        className=\"popup__item popup__item_input_name\"\n                        name=\"name\"\n                        placeholder=\"Название\"\n                        maxLength=\"30\"\n                        minLength=\"2\"\n                        required\n                        id=\"title\" />\n                    <span className=\"popup__input-error title-error\"></span>\n                </label>\n                <label className=\"popup__label\">\n                    <input\n                        onChange={handleLinkChange}\n                        value={link || ''}\n                        type=\"url\"\n                        className=\"popup__item popup__item_input_info\"\n                        name=\"link\"\n                        placeholder=\"Ссылка на картинку\"\n                        required\n                        id=\"link\" />\n                    <span className=\"popup__input-error link-error\"></span>\n                </label>\n                <button className={`button popup__button popup__button_for_add`} type=\"submit\">{button || 'Сохранить'}</button>\n            </fieldset>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","import { Link } from 'react-router-dom';\n\nfunction AuthForm({name, className, buttonName, register, userData, handleSubmit, handleChange }) {\n    return (\n        <div className={`sign ${className}`}>\n            <p className=\"sign__welcome\">\n                {name}\n            </p>\n            <form className=\"sign__form\" onSubmit={handleSubmit}>\n                <input className=\"sign__input popup__item\" id=\"email\" name=\"email\" type=\"email\" placeholder=\"Email\" value={userData.email || ''} onChange={handleChange} required />\n                <input className=\"sign__input popup__item\" id=\"password\" name=\"password\" type=\"password\" placeholder=\"Пароль\" value={userData.password || ''} onChange={handleChange} required />\n                <div className=\"sign__button-container\">\n                    <button type=\"submit\" className=\"button popup__button sign__link\" onSubmit={register && handleSubmit}>{buttonName}</button>\n                </div>\n            </form>\n            {register && (<div className=\"sign__signin\">\n                <p className=\"sign__signin-text\">Уже зарегистрированы?</p>&nbsp;\n                <Link to=\"/sign-in\" className=\"sign__login-link\">Войти</Link>\n            </div>)}\n            \n        </div>\n    )\n};\n\nexport default AuthForm;","import React from 'react';\nimport AuthForm from './AuthForm';\nimport '../index.css';\n\nfunction Register({ onRegister }) {\n  const [userData, setUserData] = React.useState({ email: '', password: '' });\n\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setUserData((evt) => ({\n      ...evt,\n      [name]: value,\n    }));\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { email, password } = userData;\n    onRegister(email, password)\n  }\n\n  return (\n<AuthForm\n      handleSubmit={handleSubmit}\n      userData={userData}\n      handleChange={handleChange}\n      register={true}\n      className=\"register\"\n      name=\"Регистрация\"\n      buttonName=\"Зарегистрироваться\" />\n  );\n}\n\nexport default Register;","import React from 'react';\nimport AuthForm from './AuthForm';\nimport '../index.css';\n\nfunction Login({ onLogin }) {\n\n  const [userData, setUserData] = React.useState({ email: '', password: '' });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setUserData((evt) => ({\n      ...evt,\n      [name]: value,\n    }));\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { email, password } = userData\n    onLogin(email, password)\n\n  }\n\n  return (\n<AuthForm\n      handleSubmit={handleSubmit}\n      userData={userData}\n      handleChange={handleChange}\n      className=\"login\"\n      name=\"Вход\"\n      buttonName=\"Войти\" />\n  );\n}\n\nexport default Login;","export default __webpack_public_path__ + \"static/media/yes.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/no.df8eddf6.svg\";","import yes from '../images/yes.svg';\nimport no from '../images/no.svg';\n\nfunction InfoTooltip({ isOpen, onClose, loggedIn }) {\n\n    return (\n        <div className={`popup popup_for_tooltip ${isOpen && \"popup_opened\"}`}>\n            <div className=\"popup__container popup__container_for_tooltip\">\n                <button className=\"button popup__close popup__close_for_tooltip\" type=\"button\" onClick={onClose}></button>\n                <img src={loggedIn ? yes : no} alt={loggedIn ? \"Галочка.\" : \"Крестик.\"} className=\"popup__icon\" />\n                <h3 className=\"popup__heading popup__heading_for_tooltip\">{loggedIn ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз\"}</h3>\n            </div>\n        </div>\n    )\n}\n\nexport default InfoTooltip;","import Api from './Api';\nexport const BASE_URL = 'https://api.mesto.pilot.nomoredomains.icu';\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password })\n    })\n        .then(Api._check)\n};\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password }),\n        credentials: 'include'\n    })\n        .then(Api._check)\n};\n\nexport const checkToken = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': \"application/json\",\n            'Authorization': `Bearer ${token}`\n        },\n        credentials: 'include'\n    })\n        .then(Api._check)\n        .then(res => res.json())\n        .then(data => data)\n}","import { useState, useEffect } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport api from '../utils/Api';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport DeleteCardPopup from './DeleteCardPopup';\nimport AddPlacePopup from './AddPlacePopup'\nimport ProtectedRoute from './ProtectedRoute';\nimport Register from './Register';\nimport Login from './Login';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from '../utils/auth';\nimport '../index.css'; \nrequire('dotenv').config();\n\nfunction App() {\n    const history = useHistory();\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [userEmail, setUserEmail] = useState(\"\");\n    const [isSuccess, setIsSuccess] = useState(false);\n    const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\n\n    function handleLogin(email, password) {\n        return auth\n            .authorize(email, password)\n            .then((data) => {\n                if (data) {\n                    setLoggedIn(true)\n                    localStorage.setItem('jwt', data.token);\n                    setUserEmail(email);\n                    history.push(\"/\");\n                }\n            })\n            .catch((err) => {\n                setIsSuccess(false);\n                setIsInfoTooltipPopupOpen(true);\n                console.log(`Ошибка: ${err}`);\n            })\n    }\n\n    function handleRegister(email, password) {\n        return auth\n            .register(email, password)\n            .then(() => {\n                setIsSuccess(true);\n                setIsInfoTooltipPopupOpen(true);\n                history.push(\"/sign-in\");\n            })\n            .catch((err) => {\n                setIsSuccess(false);\n                setIsInfoTooltipPopupOpen(true);\n                console.log(`Ошибка: ${err}`);\n            })\n    }\n\n    const [currentUser, setCurrentUser] = useState({});\n\n    const [cards, setCards] = useState([]);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState({});\n    // const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n    const [selectDelete, setSelectDelete] = useState(false);\n    const [deleteCard, setDeleteCard] = useState('');\n\n    const tokenCheck = () => {\n        // если у пользователя есть токен в localStorage,\n        // эта функция проверит валидность токена \n        const jwt = localStorage.getItem('jwt');\n        if (jwt) {\n            // проверим токен\n            auth\n                .checkToken(jwt)\n                .then((res) => {\n                    setLoggedIn(true);\n                    setUserEmail(res.data.email);\n                    history.push(\"/\")\n                })\n                .catch((err) => {\n                    console.log(`Ошибка: ${err}`);\n                })\n        }\n    }\n\n    useEffect(() => {\n        tokenCheck()\n    }, []);\n\n    useEffect(() => {\n        if (loggedIn) {\n            Promise.all([api.getInitialCards(), api.getUserInfo()])\n                .then(([cardData, userData]) => {\n                    setCards(cardData);\n                    setCurrentUser(userData);\n                })\n                .catch((err) => {\n                    console.log(`Ошибка: ${err}`);\n                })\n        }\n    }, [loggedIn])\n\n    const handleSignOut = () => {\n        setLoggedIn(false);\n        localStorage.removeItem('jwt');\n        history.push(\"/sign-in\");\n    }\n\n    const handleUpdateUser = (userInfo) => {\n        api.setUserInfo(userInfo)\n            .then((data) => {\n                setCurrentUser(data);\n                closeAllPopups();\n            })\n            .catch((error) => {\n                console.log(`Ошибка: ${error}`);\n            })\n    };\n    const handleAddCard = (card) => {\n        api.addCard(card)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(`Ошибка: ${err}`);\n            })\n    };\n    const handleUpdateAvatar = (avatar) => {\n        api.setUserAvatar(avatar)\n            .then((data) => {\n                setCurrentUser(data);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(`Ошибка: ${err}`);\n            })\n    };\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            })\n            .catch((err) => {\n                console.log(`Ошибка: ${err}`);\n            });\n    }\n    function handleCardDelete(cardId) {\n        api.deleteCard(cardId)\n            .then(() => {\n                setCards((state) => state.filter((c) => c._id !== cardId));\n            })\n            .catch((err) => {\n                console.log(`Ошибка: ${err}`);\n            });\n    }\n\n    const handleRemoveClick = (cardId) => {\n        setSelectDelete(!selectDelete);\n        setDeleteCard(cardId);\n    };\n    const handleUserInfo = (userInfo) => {\n        setCurrentUser(userInfo);\n    }\n    const handleEditProfileClick = () => {\n        setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n    }\n    const handleAddPlaceClick = () => {\n        setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n    }\n    const handleEditAvatarClick = () => {\n        setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n    }\n    const handleCardClick = (card) => {\n        setSelectedCard(card);\n    }\n    const closeAllPopups = () => {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setSelectDelete(false);\n        setSelectedCard({});\n        setIsInfoTooltipPopupOpen(false);\n    }\n\n    return (\n\n        <CurrentUserContext.Provider value={currentUser}>\n\n            <div className=\"page\">\n\n                <Header\n                    loggedIn={loggedIn}\n                    userEmail={userEmail}\n                    onSignOut={handleSignOut} />\n                <Switch>\n                    <ProtectedRoute exact path=\"/\"\n                        loggedIn={loggedIn}\n                        component={Main}\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        onEditAvatar={handleEditAvatarClick}\n                        onCardClick={handleCardClick}\n                        onDeleteClick={handleRemoveClick}\n                        onUserInfo={handleUserInfo}\n                        cards={cards}\n                        onCardLike={handleCardLike}\n                        cardId={deleteCard} />\n\n                    <Route path=\"/sign-in\">\n                        <Login onLogin={handleLogin} />\n                    </Route>\n                    <Route path=\"/sign-up\">\n                        <Register onRegister={handleRegister} />\n                    </Route>\n                    <Route>\n                        {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n                    </Route>\n                </Switch>\n\n                <Footer />\n\n                <InfoTooltip\n                    loggedIn={isSuccess}\n                    isOpen={isInfoTooltipPopupOpen}\n                    onClose={closeAllPopups} />\n\n                <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateUser={handleUpdateUser} />\n\n                <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n                    onAddCard={handleAddCard} />\n\n                <DeleteCardPopup\n                    name=\"delete\"\n                    title=\"Вы уверены?\"\n                    button=\"Да\"\n                    onClose={closeAllPopups}\n                    isOpen={selectDelete}\n                    cardId={deleteCard}\n                    onCardDelete={handleCardDelete}\n                    popupDelete={true} />\n\n                <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAvatar} />\n\n                <ImagePopup\n                    onClose={closeAllPopups}\n                    card={selectedCard} />\n\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}